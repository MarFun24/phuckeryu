<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>University of Phuckery - Degree Customizer</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bubblegum+Sans&family=Cinzel:wght@400;600;700&family=Cinzel+Decorative:wght@400;700;900&family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Cormorant+SC:wght@400;600;700&family=Dancing+Script:wght@400;700&family=EB+Garamond:ital,wght@0,400;0,600;1,400;1,600&family=Fredoka+One&family=Great+Vibes&family=Pacifico&family=Pinyon+Script&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Tangerine:wght@400;700&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&family=UnifrakturMaguntia&display=swap" rel="stylesheet">
  <style>
    * { font-family: Helvetica, Arial, sans-serif; }
    .style-btn.active { background: #01538B !important; color: white !important; border-color: #01538B !important; }
    
    /* Mock Stripe Checkout Styles */
    .stripe-modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    .stripe-modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }
    .stripe-checkout {
      background: #fff;
      width: 100%;
      max-width: 450px;
      border-radius: 12px;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4);
      overflow: hidden;
      transform: scale(0.95) translateY(20px);
      transition: all 0.3s ease;
    }
    .stripe-modal-overlay.active .stripe-checkout {
      transform: scale(1) translateY(0);
    }
    .stripe-header {
      background: linear-gradient(135deg, #635bff 0%, #7a73ff 100%);
      padding: 24px;
      color: white;
    }
    .stripe-input {
      width: 100%;
      padding: 12px 14px;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      font-size: 16px;
      transition: all 0.2s;
      background: #fff;
    }
    .stripe-input:focus {
      outline: none;
      border-color: #635bff;
      box-shadow: 0 0 0 3px rgba(99, 91, 255, 0.1);
    }
    .stripe-input::placeholder {
      color: #9ca3af;
    }
    .stripe-btn {
      width: 100%;
      padding: 14px;
      background: #635bff;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    .stripe-btn:hover {
      background: #4f46e5;
    }
    .stripe-btn:disabled {
      background: #a5b4fc;
      cursor: not-allowed;
    }
    .stripe-btn.processing {
      position: relative;
      color: transparent;
    }
    .stripe-btn.processing::after {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      top: 50%;
      left: 50%;
      margin-left: -10px;
      margin-top: -10px;
      border: 2px solid transparent;
      border-top-color: white;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .card-element {
      position: relative;
    }
    .card-icons {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      gap: 4px;
    }
    .card-icon {
      width: 32px;
      height: 20px;
      background: #f3f4f6;
      border-radius: 3px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: bold;
      color: #6b7280;
    }
    
    /* Success State */
    .success-state {
      text-align: center;
      padding: 40px 24px;
    }
    .success-checkmark {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 24px;
      animation: scaleIn 0.4s ease;
    }
    @keyframes scaleIn {
      0% { transform: scale(0); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    .success-checkmark svg {
      width: 40px;
      height: 40px;
      color: white;
    }
    
    /* Demo Banner */
    .demo-banner {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      border: 2px dashed #f59e0b;
      padding: 12px 16px;
      border-radius: 8px;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .demo-banner-icon {
      background: #f59e0b;
      color: white;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: bold;
      flex-shrink: 0;
    }
  </style>
</head>
<body style="background-color: #EAEAEE; min-height: 100vh;">
  
  <header style="background: linear-gradient(135deg, #01538B 0%, #023a61 100%); padding: 1.5rem 2rem; box-shadow: 0 4px 20px rgba(0,0,0,0.2);">
    <div class="max-w-[1800px] mx-auto">
      <h1 class="text-2xl md:text-3xl font-bold text-white tracking-wide">University of Phuckery</h1>
      <p class="text-sm text-blue-100 mt-1 opacity-90">Customize Your Prestigious Degree</p>
    </div>
  </header>

  <div class="max-w-[1800px] mx-auto p-4 md:p-8">
    <div class="flex flex-col lg:flex-row gap-6 items-start">
      
      <div class="w-full lg:w-[420px] flex-shrink-0 bg-white rounded-xl shadow-xl p-5 md:p-6 lg:sticky lg:top-4 border border-gray-100">
        <h2 class="text-lg md:text-xl font-bold mb-4" style="color: #3A3C3E;">Degree Details</h2>
        
        <div class="space-y-3">
          <div class="grid grid-cols-2 gap-3">
            <div>
              <label class="block text-xs font-semibold mb-1.5" style="color: #3A3C3E;">First Name</label>
              <input type="text" id="firstName" value="Your Name" class="w-full px-3 py-2 text-sm border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-200 focus:border-blue-400 transition-all">
            </div>
            <div>
              <label class="block text-xs font-semibold mb-1.5" style="color: #3A3C3E;">Last Name</label>
              <input type="text" id="lastName" value="Here" class="w-full px-3 py-2 text-sm border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-200 focus:border-blue-400 transition-all">
            </div>
          </div>

          <div class="grid grid-cols-2 gap-3">
            <div>
              <label class="block text-xs font-semibold mb-1.5" style="color: #3A3C3E;">Degree Level</label>
              <select id="degreeLevel" class="w-full px-3 py-2 text-sm border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-200 focus:border-blue-400 transition-all bg-white">
                <option value="Bachelor">Bachelor</option>
                <option value="Master" selected>Master</option>
                <option value="PhD">PhD</option>
              </select>
            </div>
            <div>
              <label class="block text-xs font-semibold mb-1.5" style="color: #3A3C3E;">Faculty</label>
              <select id="faculty" class="w-full px-3 py-2 text-sm border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-200 focus:border-blue-400 transition-all bg-white">
                <option value="Petty">Petty</option>
                <option value="Minding Your Own Business">Minding Your Own Business</option>
                <option value="Common Sense">Common Sense</option>
                <option value="Not Giving a F*ck">Not Giving a F*ck</option>
                <option value="Sarcasm">Sarcasm</option>
                <option value="Adulting">Adulting</option>
                <option value="Procrastination">Procrastination</option>
                <option value="Overthinking">Overthinking</option>
                <option value="Social Media Stalking">Social Media Stalking</option>
                <option value="Netflix Binging">Netflix Binging</option>
                <option value="Online Shopping">Online Shopping</option>
                <option value="Napping">Napping</option>
              </select>
            </div>
          </div>

          <div>
            <label class="block text-xs font-semibold mb-1.5" style="color: #3A3C3E;">Achievement Description</label>
            <select id="achievementSelect" class="w-full px-3 py-2 text-sm border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-200 focus:border-blue-400 transition-all bg-white mb-2">
              <option value="exemplary performance in the art of subtle comebacks and graceful revenge">üéØ Subtle comebacks & graceful revenge</option>
              <option value="mastering the ancient art of looking unbothered while internally screaming">üòå Looking unbothered while screaming inside</option>
              <option value="outstanding achievement in minding their own damn business">üôà Minding their own damn business</option>
              <option value="exceptional skills in reading the room and choosing chaos anyway">üî• Reading the room, choosing chaos</option>
              <option value="advanced proficiency in saying 'per my last email' with devastating effect">üìß Weaponizing 'per my last email'</option>
              <option value="achieving zen-level detachment from other people's drama">üßò Zen-level drama detachment</option>
              <option value="fluency in strategic silence and perfectly timed exits">üö™ Strategic silence & perfect exits</option>
              <option value="successfully adulting for 72 consecutive hours without incident">üèÜ 72 hours of successful adulting</option>
              <option value="completing tasks at the absolute last possible moment with excellence">‚è∞ Last-minute excellence</option>
              <option value="maintaining composure while everything was literally on fire">üî• Composure amid chaos</option>
              <option value="finding information that was absolutely none of their business">üîç Expert-level info gathering</option>
              <option value="perfecting the art of nodding thoughtfully while thinking about dinner">üçï Thoughtful nodding (thinking about food)</option>
              <option value="custom">‚úèÔ∏è Write your own...</option>
            </select>
            <textarea id="achievementCustom" rows="2" class="w-full px-3 py-2 text-sm border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-200 focus:border-blue-400 transition-all resize-none hidden" placeholder="Write your custom achievement..."></textarea>
          </div>

          <div>
            <label class="block text-xs font-semibold mb-1.5" style="color: #3A3C3E;">Award Date</label>
            <input type="text" id="awardDate" value="June 9th, 2019" class="w-full px-3 py-2 text-sm border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-200 focus:border-blue-400 transition-all">
          </div>

          <div class="pt-3 border-t border-gray-200">
            <label class="block text-xs font-semibold mb-2" style="color: #3A3C3E;">Choose Your Package</label>
            <div class="space-y-2" id="priceTiers">
              <label class="flex items-center p-3 rounded-lg border-2 border-gray-200 cursor-pointer hover:border-blue-300 transition-all has-[:checked]:border-blue-500 has-[:checked]:bg-blue-50">
                <input type="radio" name="priceTier" value="digital" data-price="19.99" data-label="Digital Download" class="mr-3 accent-blue-600" checked>
                <div class="flex-1">
                  <div class="font-semibold text-sm" style="color: #3A3C3E;">Digital Download</div>
                  <div class="text-xs text-gray-500">High-res PDF delivered via email</div>
                </div>
                <div class="font-bold text-blue-600">$19.99</div>
              </label>
              <label class="flex items-center p-3 rounded-lg border-2 border-gray-200 cursor-pointer hover:border-blue-300 transition-all has-[:checked]:border-blue-500 has-[:checked]:bg-blue-50">
                <input type="radio" name="priceTier" value="printed" data-price="39.99" data-label="Printed Diploma" class="mr-3 accent-blue-600">
                <div class="flex-1">
                  <div class="font-semibold text-sm" style="color: #3A3C3E;">Printed Diploma</div>
                  <div class="text-xs text-gray-500">Premium cardstock, shipped to you</div>
                </div>
                <div class="font-bold text-blue-600">$39.99</div>
              </label>
              <label class="flex items-center p-3 rounded-lg border-2 border-gray-200 cursor-pointer hover:border-blue-300 transition-all has-[:checked]:border-blue-500 has-[:checked]:bg-blue-50">
                <input type="radio" name="priceTier" value="framed" data-price="79.99" data-label="Printed & Framed" class="mr-3 accent-blue-600">
                <div class="flex-1">
                  <div class="font-semibold text-sm" style="color: #3A3C3E;">Printed & Framed</div>
                  <div class="text-xs text-gray-500">Ready to hang, museum-quality frame</div>
                </div>
                <div class="font-bold text-blue-600">$79.99</div>
              </label>
            </div>
          </div>

          <div class="pt-3 border-t border-gray-200">
            <label class="block text-xs font-semibold mb-2" style="color: #3A3C3E;">What's Your Vibe?</label>
            <div class="grid grid-cols-3 gap-2" id="styleButtons">
              <button type="button" data-style="classic" class="style-btn active p-2.5 rounded-lg border-2 text-xs font-medium transition-all">
                <div class="text-lg mb-1">üéì</div>
                <div class="text-[10px] leading-tight">Classic Academia</div>
              </button>
              <button type="button" data-style="boujie" class="style-btn p-2.5 rounded-lg border-2 border-gray-200 bg-white text-gray-600 hover:border-gray-400 transition-all">
                <div class="text-lg mb-1">‚ú®</div>
                <div class="text-[10px] leading-tight">Boujie & Luxe</div>
              </button>
              <button type="button" data-style="legal" class="style-btn p-2.5 rounded-lg border-2 border-gray-200 bg-white text-gray-600 hover:border-gray-400 transition-all">
                <div class="text-lg mb-1">‚öñÔ∏è</div>
                <div class="text-[10px] leading-tight">Law School</div>
              </button>
              <button type="button" data-style="medical" class="style-btn p-2.5 rounded-lg border-2 border-gray-200 bg-white text-gray-600 hover:border-gray-400 transition-all">
                <div class="text-lg mb-1">üè•</div>
                <div class="text-[10px] leading-tight">Medical</div>
              </button>
              <button type="button" data-style="creative" class="style-btn p-2.5 rounded-lg border-2 border-gray-200 bg-white text-gray-600 hover:border-gray-400 transition-all">
                <div class="text-lg mb-1">üé®</div>
                <div class="text-[10px] leading-tight">Creatives</div>
              </button>
              <button type="button" data-style="tech" class="style-btn p-2.5 rounded-lg border-2 border-gray-200 bg-white text-gray-600 hover:border-gray-400 transition-all">
                <div class="text-lg mb-1">ü§ñ</div>
                <div class="text-[10px] leading-tight">AI / Tech</div>
              </button>
              <button type="button" data-style="kids" class="style-btn p-2.5 rounded-lg border-2 border-gray-200 bg-white text-gray-600 hover:border-gray-400 transition-all col-span-3">
                <div class="text-lg mb-1">ü¶•</div>
                <div class="text-[10px] leading-tight">Lil Phuckers (Digital Only)</div>
              </button>
            </div>
          </div>

          <button id="checkoutBtn" class="w-full font-bold py-3 px-4 text-sm rounded-lg transition-all duration-200 mt-3 text-white hover:opacity-90 shadow-lg" style="background: linear-gradient(135deg, #01538B 0%, #023a61 100%);">
            Purchase for $19.99
          </button>
          <p id="checkoutError" class="text-red-500 text-xs mt-2 hidden"></p>
        </div>
      </div>

      <div class="w-full flex-grow bg-white rounded-xl shadow-xl p-5 md:p-6 border border-gray-100">
        <h2 class="text-xl md:text-2xl font-bold mb-6" style="color: #3A3C3E;">Live Preview</h2>
        
        <div class="w-full overflow-x-auto pb-4">
          <div style="display:flex;justify-content:center;">
            <div id="certificate" style="width:1000px;height:775px;transform:scale(0.5);transform-origin:top center;margin-bottom:-387px;position:relative;"></div>
          </div>
          <p class="text-xs text-center mt-4" style="color:#3A3C3E;opacity:0.6;">This is a preview only. Complete purchase to receive your diploma.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Mock Stripe Checkout Modal -->
  <div class="stripe-modal-overlay" id="stripeModal">
    <div class="stripe-checkout">
      <!-- Checkout Form State -->
      <div id="checkoutFormState">
        <div class="stripe-header">
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-white/20 rounded-lg flex items-center justify-content-center overflow-hidden">
                <img src="https://res.cloudinary.com/ded9cb1wd/image/upload/v1767813427/PU_Logo_Blue_White_rwkqvn.png" alt="Logo" class="w-8 h-8 object-contain m-auto">
              </div>
              <div>
                <div class="font-semibold">University of Phuckery</div>
                <div class="text-sm opacity-80" id="modalProductName">Digital Download</div>
              </div>
            </div>
            <button onclick="closeModal()" class="w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
          </div>
          <div class="text-3xl font-bold" id="modalPrice">$19.99</div>
        </div>
        
        <div class="p-6">
          <!-- Demo Banner -->
          <div class="demo-banner">
            <div class="demo-banner-icon">!</div>
            <div class="text-sm text-amber-800">
              <strong>Demo Mode:</strong> This is a mockup. No real payment will be processed.
            </div>
          </div>
          
          <form id="mockCheckoutForm" class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1.5">Email</label>
              <input type="email" class="stripe-input" placeholder="you@example.com" value="demo@example.com">
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1.5">Card information</label>
              <div class="card-element">
                <input type="text" class="stripe-input pr-28" placeholder="1234 1234 1234 1234" value="4242 4242 4242 4242" maxlength="19">
                <div class="card-icons">
                  <div class="card-icon" style="background: #1a1f71; color: white;">VISA</div>
                  <div class="card-icon">MC</div>
                  <div class="card-icon" style="background: #006fcf; color: white;">AMEX</div>
                </div>
              </div>
              <div class="grid grid-cols-2 gap-3 mt-3">
                <input type="text" class="stripe-input" placeholder="MM / YY" value="12 / 28" maxlength="7">
                <input type="text" class="stripe-input" placeholder="CVC" value="123" maxlength="4">
              </div>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1.5">Name on card</label>
              <input type="text" class="stripe-input" placeholder="Full name on card" id="cardholderName">
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1.5">Country or region</label>
              <select class="stripe-input">
                <option>United States</option>
                <option selected>Canada</option>
                <option>United Kingdom</option>
                <option>Australia</option>
              </select>
              <input type="text" class="stripe-input mt-3" placeholder="ZIP / Postal code" value="V6B 1A1">
            </div>
            
            <button type="submit" class="stripe-btn" id="payBtn">
              Pay <span id="payBtnPrice">$19.99</span>
            </button>
            
            <div class="flex items-center justify-center gap-2 text-xs text-gray-400 pt-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
              <span>Powered by <strong class="text-gray-600">Stripe</strong></span>
            </div>
          </form>
        </div>
      </div>
      
      <!-- Success State -->
      <div id="successState" class="hidden">
        <div class="success-state">
          <div class="success-checkmark">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
          </div>
          <h3 class="text-2xl font-bold text-gray-900 mb-2">Payment Successful!</h3>
          <p class="text-gray-600 mb-6">Thank you for your order. Your diploma is being prepared.</p>
          
          <div class="bg-gray-50 rounded-lg p-4 mb-6 text-left">
            <div class="text-sm text-gray-500 mb-1">Order confirmation</div>
            <div class="font-mono text-lg font-semibold text-gray-900" id="orderNumber">PHU-2025-XXXXX</div>
          </div>
          
          <div class="text-sm text-gray-500 mb-6">
            A confirmation email has been sent to<br>
            <strong class="text-gray-700">demo@example.com</strong>
          </div>
          
          <button onclick="closeModal()" class="stripe-btn">
            Done
          </button>
          
          <!-- Demo reminder -->
          <div class="demo-banner mt-4">
            <div class="demo-banner-icon">!</div>
            <div class="text-sm text-amber-800">
              <strong>Demo:</strong> In production, this would send a real confirmation email and process the order.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    let currentStyle = 'classic';
    const sealImg = 'https://res.cloudinary.com/ded9cb1wd/image/upload/v1767813427/PU_Logo_Blue_White_rwkqvn.png';

    // Google Fonts - professional web fonts
    const fonts = {
      // Elegant serifs
      cormorant: "'Cormorant Garamond', Georgia, serif",
      playfair: "'Playfair Display', Georgia, serif",
      ebGaramond: "'EB Garamond', Georgia, serif",
      libreBaskerville: "'Libre Baskerville', Georgia, serif",
      oldStandard: "'Old Standard TT', Georgia, serif",
      
      // Script/Calligraphy fonts
      greatVibes: "'Great Vibes', cursive",
      pinyonScript: "'Pinyon Script', cursive",
      tangerine: "'Tangerine', cursive",
      dancingScript: "'Dancing Script', cursive",
      
      // Display/Header fonts  
      cinzel: "'Cinzel', Georgia, serif",
      cormorantSC: "'Cormorant SC', Georgia, serif",
      
      // Fun fonts for kids
      pacifico: "'Pacifico', cursive",
      fredokaOne: "'Fredoka One', cursive",
      bubblegum: "'Bubblegum Sans', cursive",
      
      // Medieval/Gothic fonts
      unifraktur: "'UnifrakturMaguntia', cursive",
      cinzelDeco: "'Cinzel Decorative', serif"
    };

    const achievementSelect = document.getElementById('achievementSelect');
    const achievementCustom = document.getElementById('achievementCustom');
    
    achievementSelect.addEventListener('change', function() {
      if (this.value === 'custom') {
        achievementCustom.classList.remove('hidden');
        achievementCustom.focus();
      } else {
        achievementCustom.classList.add('hidden');
      }
      renderCertificate();
    });
    
    achievementCustom.addEventListener('input', renderCertificate);

    function getAchievement() {
      if (achievementSelect.value === 'custom') {
        return achievementCustom.value || 'being absolutely amazing';
      }
      return achievementSelect.value;
    }

    function getDegreeText() {
      const level = document.getElementById('degreeLevel').value;
      const faculty = document.getElementById('faculty').value;
      if (level === 'Bachelor') return `Bachelor of ${faculty}`;
      if (level === 'Master') return `Master of ${faculty}`;
      return `PhD in ${faculty}`;
    }

    function renderCertificate() {
      const firstName = document.getElementById('firstName').value;
      const lastName = document.getElementById('lastName').value;
      const fullName = `${firstName} ${lastName}`;
      const achievement = getAchievement();
      const awardDate = document.getElementById('awardDate').value;
      const degree = getDegreeText();
      const container = document.getElementById('certificate');

      const signaturesClassic = `
        <div style="width:100%;display:flex;justify-content:space-between;align-items:flex-end;padding:0 100px;">
          <div style="text-align:center;width:180px;">
            <div style="font-family:${fonts.greatVibes};font-size:38px;color:#1a1a1a;">Vlad X</div>
            <div style="width:100%;height:1px;background:#1a1a1a;margin:4px 0;"></div>
            <div style="font-family:${fonts.cormorant};font-size:12px;color:#2a2a2a;letter-spacing:0.05em;">Dean</div>
          </div>
          
          <div style="width:100px;height:100px;border-radius:50%;background:linear-gradient(145deg,#d4a229 0%,#c4922a 50%,#b8862a 100%);display:flex;align-items:center;justify-content:center;box-shadow:inset 0 2px 4px rgba(255,255,255,0.3),inset 0 -2px 4px rgba(0,0,0,0.2),0 4px 8px rgba(0,0,0,0.2);">
            <img src="${sealImg}" style="width:80px;height:80px;object-fit:contain;" alt="Seal">
          </div>
          
          <div style="text-align:center;width:180px;">
            <div style="font-family:${fonts.greatVibes};font-size:38px;color:#1a1a1a;">Eleni X</div>
            <div style="width:100%;height:1px;background:#1a1a1a;margin:4px 0;"></div>
            <div style="font-family:${fonts.cormorant};font-size:12px;color:#2a2a2a;letter-spacing:0.05em;">Chancellor</div>
          </div>
        </div>`;

      const signaturesBoujie = `
        <div style="width:100%;display:flex;justify-content:space-between;align-items:flex-end;padding:0 100px;">
          <div style="text-align:center;width:180px;">
            <div style="font-family:${fonts.pinyonScript};font-size:42px;color:#8B6914;">Vlad X</div>
            <div style="width:100%;height:1px;background:linear-gradient(90deg,transparent,#c9a227,transparent);margin:4px 0;"></div>
            <div style="font-family:${fonts.cormorantSC};font-size:11px;color:#5a5a5a;letter-spacing:0.2em;">DEAN</div>
          </div>
          
          <div style="width:100px;height:100px;border-radius:50%;background:linear-gradient(145deg,#d4af37 0%,#c9a227 50%,#b8962a 100%);display:flex;align-items:center;justify-content:center;box-shadow:inset 0 2px 6px rgba(255,255,255,0.4),inset 0 -2px 6px rgba(0,0,0,0.2),0 4px 12px rgba(201,162,39,0.3);">
            <img src="${sealImg}" style="width:80px;height:80px;object-fit:contain;" alt="Seal">
          </div>
          
          <div style="text-align:center;width:180px;">
            <div style="font-family:${fonts.pinyonScript};font-size:42px;color:#8B6914;">Eleni X</div>
            <div style="width:100%;height:1px;background:linear-gradient(90deg,transparent,#c9a227,transparent);margin:4px 0;"></div>
            <div style="font-family:${fonts.cormorantSC};font-size:11px;color:#5a5a5a;letter-spacing:0.2em;">CHANCELLOR</div>
          </div>
        </div>`;

      const signaturesKids = `
        <div style="width:100%;display:flex;justify-content:space-between;align-items:flex-end;padding:0 80px;">
          <div style="text-align:center;width:160px;">
            <div style="font-family:${fonts.pacifico};font-size:24px;color:#db2777;">Vlad X</div>
            <div style="width:100%;height:3px;background:linear-gradient(90deg,#f472b6,#a855f7);margin:4px 0;border-radius:2px;"></div>
            <div style="font-family:${fonts.bubblegum};font-size:11px;color:#6b7280;">Dean</div>
          </div>
          
          <div style="width:80px;height:80px;border-radius:50%;background:linear-gradient(145deg,#fbbf24 0%,#f59e0b 50%,#d97706 100%);display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(251,191,36,0.4);">
            <img src="${sealImg}" style="width:60px;height:60px;object-fit:contain;" alt="Seal">
          </div>
          
          <div style="text-align:center;width:160px;">
            <div style="font-family:${fonts.pacifico};font-size:24px;color:#2563eb;">Eleni X</div>
            <div style="width:100%;height:3px;background:linear-gradient(90deg,#60a5fa,#34d399);margin:4px 0;border-radius:2px;"></div>
            <div style="font-family:${fonts.bubblegum};font-size:11px;color:#6b7280;">Chancellor</div>
          </div>
        </div>`;

      const templates = {
        classic: `
          <div style="width:100%;height:100%;background:#f8f6f0;position:relative;box-shadow:0 4px 20px rgba(0,0,0,0.15);display:flex;flex-direction:column;">
            <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-30deg);font-family:${fonts.dancingScript};font-size:100px;color:rgba(0,0,0,0.04);pointer-events:none;white-space:nowrap;">Preview</div>
            
            <div style="flex:1;display:flex;flex-direction:column;align-items:center;text-align:center;padding:45px 80px 35px;">
              
              <div style="font-family:${fonts.playfair};font-size:52px;color:#1a1a1a;margin-bottom:20px;line-height:1;font-style:italic;">University of Phuckery</div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:15px;color:#2a2a2a;line-height:1.7;margin-bottom:6px;">
                on the recommendation of the Faculty and in recognition of the<br>completion of the prescribed course in the
              </div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:18px;color:#2a2a2a;margin-bottom:10px;">College of Life Sciences</div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:15px;color:#2a2a2a;margin-bottom:12px;">has conferred upon</div>
              
              <div style="font-family:${fonts.cinzel};font-size:38px;color:#1a1a1a;margin:5px 0 12px;line-height:1;letter-spacing:0.08em;">${fullName.toUpperCase()}</div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:15px;color:#2a2a2a;margin-bottom:10px;">the degree of</div>
              
              <div style="font-family:${fonts.playfair};font-size:30px;color:#1a1a1a;margin-bottom:18px;line-height:1;font-weight:600;">${degree}</div>
              
              <div style="font-family:${fonts.cormorant};font-size:13px;color:#2a2a2a;max-width:600px;line-height:1.6;margin-bottom:6px;">
                in recognition of ${achievement}, with all the honors, rights and privileges belonging thereto. In witness whereof this diploma has been signed by the duly authorized officers and sealed with its corporate seal.
              </div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:14px;color:#2a2a2a;">Presented on ${awardDate}</div>
              
              <div style="flex-grow:1;min-height:20px;"></div>
              ${signaturesClassic}
            </div>
          </div>`,

        boujie: `
          <div style="width:100%;height:100%;background:linear-gradient(180deg,#fffdf7 0%,#faf6eb 100%);position:relative;box-shadow:0 4px 20px rgba(0,0,0,0.15);display:flex;flex-direction:column;">
            <div style="position:absolute;inset:18px;border:2px solid #c9a227;pointer-events:none;"></div>
            <div style="position:absolute;inset:24px;border:1px solid rgba(201,162,39,0.4);pointer-events:none;"></div>
            <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-30deg);font-family:${fonts.pinyonScript};font-size:100px;color:rgba(201,162,39,0.05);pointer-events:none;white-space:nowrap;">Preview</div>
            
            <div style="flex:1;display:flex;flex-direction:column;align-items:center;text-align:center;padding:50px 90px 35px;">
              
              <div style="font-family:${fonts.tangerine};font-size:72px;color:#8B6914;margin-bottom:18px;line-height:1;font-weight:700;">University of Phuckery</div>
              
              <div style="font-family:${fonts.ebGaramond};font-style:italic;font-size:14px;color:#5a5a5a;line-height:1.7;margin-bottom:5px;">
                on the recommendation of the Faculty and in recognition of the<br>completion of the prescribed course in the
              </div>
              
              <div style="font-family:${fonts.ebGaramond};font-style:italic;font-size:17px;color:#3a3a3a;margin-bottom:8px;">College of Refined Arts</div>
              
              <div style="font-family:${fonts.ebGaramond};font-style:italic;font-size:14px;color:#5a5a5a;margin-bottom:10px;">has conferred upon</div>
              
              <div style="font-family:${fonts.pinyonScript};font-size:54px;color:#1a1a1a;margin:5px 0 10px;line-height:1;">${fullName}</div>
              
              <div style="font-family:${fonts.ebGaramond};font-style:italic;font-size:14px;color:#5a5a5a;margin-bottom:8px;">the degree of</div>
              
              <div style="font-family:${fonts.tangerine};font-size:42px;color:#8B6914;margin-bottom:16px;line-height:1;font-weight:700;">${degree}</div>
              
              <div style="font-family:${fonts.ebGaramond};font-size:12px;color:#4a4a4a;max-width:560px;line-height:1.6;margin-bottom:5px;">
                in recognition of ${achievement}, with all the honors, rights and privileges belonging thereto. In witness whereof this diploma has been signed by the duly authorized officers and sealed with its corporate seal.
              </div>
              
              <div style="font-family:${fonts.ebGaramond};font-style:italic;font-size:13px;color:#5a5a5a;">Presented on ${awardDate}</div>
              
              <div style="flex-grow:1;min-height:15px;"></div>
              ${signaturesBoujie}
            </div>
          </div>`,

        legal: `
          <div style="width:100%;height:100%;background:#f8f6f0;position:relative;box-shadow:0 4px 20px rgba(0,0,0,0.15);display:flex;flex-direction:column;">
            <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-30deg);font-family:${fonts.dancingScript};font-size:100px;color:rgba(0,0,0,0.04);pointer-events:none;white-space:nowrap;">Preview</div>
            
            <div style="flex:1;display:flex;flex-direction:column;align-items:center;text-align:center;padding:45px 80px 35px;">
              
              <div style="font-family:${fonts.libreBaskerville};font-size:48px;color:#1a1a1a;margin-bottom:20px;line-height:1;font-style:italic;">University of Phuckery</div>
              
              <div style="font-family:${fonts.oldStandard};font-style:italic;font-size:15px;color:#2a2a2a;line-height:1.7;margin-bottom:6px;">
                on the recommendation of the Faculty and in recognition of the<br>completion of the prescribed course in the
              </div>
              
              <div style="font-family:${fonts.oldStandard};font-style:italic;font-size:18px;color:#2a2a2a;margin-bottom:10px;">School of Law</div>
              
              <div style="font-family:${fonts.oldStandard};font-style:italic;font-size:15px;color:#2a2a2a;margin-bottom:12px;">has conferred upon</div>
              
              <div style="font-family:${fonts.cinzel};font-size:36px;color:#1a1a1a;margin:5px 0 12px;line-height:1;letter-spacing:0.1em;font-weight:600;">${fullName.toUpperCase()}</div>
              
              <div style="font-family:${fonts.oldStandard};font-style:italic;font-size:15px;color:#2a2a2a;margin-bottom:10px;">the degree of</div>
              
              <div style="font-family:${fonts.libreBaskerville};font-size:28px;color:#1a1a1a;margin-bottom:18px;line-height:1;font-weight:700;">${degree}</div>
              
              <div style="font-family:${fonts.oldStandard};font-size:13px;color:#2a2a2a;max-width:600px;line-height:1.6;margin-bottom:6px;">
                in recognition of ${achievement}, with all the honors, rights and privileges belonging thereto. In witness whereof this diploma has been signed by the duly authorized officers and sealed with its corporate seal.
              </div>
              
              <div style="font-family:${fonts.oldStandard};font-style:italic;font-size:14px;color:#2a2a2a;">Presented on ${awardDate}</div>
              
              <div style="flex-grow:1;min-height:20px;"></div>
              ${signaturesClassic}
            </div>
          </div>`,

        medical: `
          <div style="width:100%;height:100%;background:#f8f6f0;position:relative;box-shadow:0 4px 20px rgba(0,0,0,0.15);display:flex;flex-direction:column;">
            <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-30deg);font-family:${fonts.greatVibes};font-size:100px;color:rgba(0,0,0,0.04);pointer-events:none;white-space:nowrap;">Preview</div>
            
            <div style="flex:1;display:flex;flex-direction:column;align-items:center;text-align:center;padding:45px 80px 35px;">
              
              <div style="font-family:${fonts.cormorantSC};font-size:15px;letter-spacing:0.25em;color:#1a1a1a;margin-bottom:8px;">THE</div>
              <div style="font-family:${fonts.playfair};font-size:48px;color:#1a1a1a;margin-bottom:20px;line-height:1;font-style:italic;">University of Phuckery</div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:15px;color:#2a2a2a;line-height:1.7;margin-bottom:6px;">
                on the recommendation of the Faculty and in recognition of the<br>completion of the prescribed course in the
              </div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:18px;color:#2a2a2a;margin-bottom:10px;">School of Medicine</div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:15px;color:#2a2a2a;margin-bottom:12px;">has conferred upon</div>
              
              <div style="font-family:${fonts.cinzel};font-size:36px;color:#1a1a1a;margin:5px 0 12px;line-height:1;letter-spacing:0.08em;">${fullName.toUpperCase()}</div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:15px;color:#2a2a2a;margin-bottom:10px;">the degree of</div>
              
              <div style="font-family:${fonts.playfair};font-size:28px;color:#1a1a1a;margin-bottom:18px;line-height:1;font-weight:600;">${degree}</div>
              
              <div style="font-family:${fonts.cormorant};font-size:13px;color:#2a2a2a;max-width:600px;line-height:1.6;margin-bottom:6px;">
                in recognition of ${achievement}, with all the honors, rights and privileges belonging thereto. In witness whereof this diploma has been signed by the duly authorized officers and sealed with its corporate seal.
              </div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:14px;color:#2a2a2a;">Presented on ${awardDate}</div>
              
              <div style="flex-grow:1;min-height:20px;"></div>
              ${signaturesClassic}
            </div>
          </div>`,

        creative: `
          <div style="width:100%;height:100%;background:#f8f6f0;position:relative;box-shadow:0 4px 20px rgba(0,0,0,0.15);display:flex;flex-direction:column;">
            <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-30deg);font-family:${fonts.dancingScript};font-size:80px;color:rgba(0,0,0,0.04);pointer-events:none;white-space:nowrap;">Preview</div>
            
            <div style="flex:1;display:flex;flex-direction:column;align-items:center;text-align:center;padding:45px 80px 35px;">
              
              <div style="font-family:${fonts.dancingScript};font-size:56px;color:#1a1a1a;margin-bottom:20px;line-height:1;font-weight:700;">University of Phuckery</div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:15px;color:#2a2a2a;line-height:1.7;margin-bottom:6px;">
                on the recommendation of the Faculty and in recognition of the<br>completion of the prescribed course in the
              </div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:18px;color:#2a2a2a;margin-bottom:10px;">School of Creative Arts</div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:15px;color:#2a2a2a;margin-bottom:12px;">has conferred upon</div>
              
              <div style="font-family:${fonts.greatVibes};font-size:48px;color:#1a1a1a;margin:5px 0 12px;line-height:1;">${fullName}</div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:15px;color:#2a2a2a;margin-bottom:10px;">the degree of</div>
              
              <div style="font-family:${fonts.dancingScript};font-size:34px;color:#1a1a1a;margin-bottom:18px;line-height:1;font-weight:700;">${degree}</div>
              
              <div style="font-family:${fonts.cormorant};font-size:13px;color:#2a2a2a;max-width:600px;line-height:1.6;margin-bottom:6px;">
                in recognition of ${achievement}, with all the honors, rights and privileges belonging thereto. In witness whereof this diploma has been signed by the duly authorized officers and sealed with its corporate seal.
              </div>
              
              <div style="font-family:${fonts.cormorant};font-style:italic;font-size:14px;color:#2a2a2a;">Presented on ${awardDate}</div>
              
              <div style="flex-grow:1;min-height:20px;"></div>
              ${signaturesClassic}
            </div>
          </div>`,

        tech: `
          <div style="width:100%;height:100%;background:#f8f6f0;position:relative;box-shadow:0 4px 20px rgba(0,0,0,0.15);display:flex;flex-direction:column;">
            <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-30deg);font-family:${fonts.oldStandard};font-size:90px;color:rgba(0,0,0,0.03);pointer-events:none;white-space:nowrap;">Preview</div>
            
            <div style="flex:1;display:flex;flex-direction:column;align-items:center;text-align:center;padding:60px 80px 40px;">
              
              <!-- Decorative University Name with Medieval Red Initials -->
              <div style="font-family:${fonts.oldStandard};font-size:36px;color:#1a1a1a;margin-bottom:28px;line-height:1;letter-spacing:0.02em;">
                <span style="font-family:${fonts.unifraktur};color:#8B0000;font-size:54px;position:relative;top:4px;">U</span><span style="font-size:28px;letter-spacing:0.08em;">NIVERSITY</span> 
                <span style="font-family:${fonts.unifraktur};color:#8B0000;font-size:54px;position:relative;top:4px;">O</span><span style="font-size:28px;letter-spacing:0.08em;">F</span> 
                <span style="font-family:${fonts.unifraktur};color:#8B0000;font-size:54px;position:relative;top:4px;">P</span><span style="font-size:28px;letter-spacing:0.08em;">HUCKERY</span>
              </div>
              
              <!-- Upon the recommendation text -->
              <div style="font-family:${fonts.oldStandard};font-size:12px;color:#2a2a2a;letter-spacing:0.15em;line-height:1.8;margin-bottom:20px;">
                UPON THE RECOMMENDATION OF THE FACULTY<br>HEREBY CONFERS ON
              </div>
              
              <!-- Name in script -->
              <div style="font-family:${fonts.greatVibes};font-size:52px;color:#1a1a1a;margin:10px 0 20px;line-height:1;">${fullName}</div>
              
              <!-- The degree of -->
              <div style="font-family:${fonts.oldStandard};font-size:13px;color:#2a2a2a;letter-spacing:0.2em;margin-bottom:14px;">THE DEGREE OF</div>
              
              <!-- Degree name -->
              <div style="font-family:${fonts.playfair};font-size:32px;color:#1a1a1a;margin-bottom:28px;line-height:1;font-style:italic;">${degree}</div>
              
              <!-- Recognition block - all caps, centered -->
              <div style="font-family:${fonts.oldStandard};font-size:11px;color:#2a2a2a;max-width:580px;line-height:1.9;letter-spacing:0.08em;text-align:center;">
                IN RECOGNITION OF ${achievement.toUpperCase()}, WITH ALL THE HONORS, RIGHTS AND PRIVILEGES BELONGING THERETO. GIVEN THIS DAY UNDER THE SEAL OF THE INSTITUTE IN THE COMMONWEALTH OF LIFE SCIENCES
              </div>
              
              <div style="flex-grow:1;min-height:30px;"></div>
              
              <!-- MIT-style signatures with Dean/Chancellor -->
              <div style="width:100%;display:flex;justify-content:space-between;align-items:flex-end;padding:0 80px;">
                <div style="text-align:center;width:160px;">
                  <div style="font-family:${fonts.greatVibes};font-size:32px;color:#1a1a1a;">Vlad X</div>
                  <div style="width:100%;height:1px;background:#1a1a1a;margin:6px 0;"></div>
                  <div style="font-family:${fonts.oldStandard};font-size:11px;color:#2a2a2a;font-style:italic;letter-spacing:0.05em;">Dean</div>
                </div>
                
                <div style="width:90px;height:90px;border-radius:50%;border:3px solid #8B0000;display:flex;align-items:center;justify-content:center;opacity:0.85;">
                  <img src="${sealImg}" style="width:70px;height:70px;object-fit:contain;filter:sepia(100%) saturate(300%) hue-rotate(-10deg);" alt="Seal">
                </div>
                
                <div style="text-align:center;width:160px;">
                  <div style="font-family:${fonts.greatVibes};font-size:32px;color:#1a1a1a;">Eleni X</div>
                  <div style="width:100%;height:1px;background:#1a1a1a;margin:6px 0;"></div>
                  <div style="font-family:${fonts.oldStandard};font-size:11px;color:#2a2a2a;font-style:italic;letter-spacing:0.05em;">Chancellor</div>
                </div>
              </div>
            </div>
          </div>`,

        kids: `
          <div style="width:100%;height:100%;background:linear-gradient(135deg,#fef3c7 0%,#fce7f3 25%,#ddd6fe 50%,#bfdbfe 75%,#bbf7d0 100%);position:relative;box-shadow:0 4px 20px rgba(0,0,0,0.15);overflow:hidden;display:flex;flex-direction:column;justify-content:center;">
            <div style="position:absolute;top:15px;left:20px;font-size:32px;">‚≠ê</div>
            <div style="position:absolute;top:40px;right:25px;font-size:28px;">üåà</div>
            <div style="position:absolute;bottom:80px;left:30px;font-size:24px;">üéà</div>
            <div style="position:absolute;bottom:40px;right:25px;font-size:28px;">üéâ</div>
            <div style="position:absolute;top:110px;left:50px;font-size:18px;">‚ú®</div>
            <div style="position:absolute;top:160px;right:60px;font-size:20px;">ü¶ã</div>
            <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-20deg);font-family:${fonts.bubblegum};font-size:80px;color:rgba(139,92,246,0.06);pointer-events:none;white-space:nowrap;">Preview</div>
            
            <div style="display:flex;flex-direction:column;align-items:center;text-align:center;padding:0 70px;">
              <div style="font-family:${fonts.fredokaOne};font-size:18px;letter-spacing:0.08em;color:#7c3aed;margin-bottom:6px;">üéì OFFICIAL DIPLOMA FROM üéì</div>
              <div style="font-family:${fonts.pacifico};font-size:44px;color:#db2777;text-shadow:2px 2px 0 #fbbf24;margin-bottom:6px;line-height:1.1;">Lil Phuckers Academy</div>
              <div style="font-family:${fonts.bubblegum};font-size:15px;color:#7c3aed;margin-bottom:20px;">Where Tiny Humans Learn Big Things!</div>
              
              <div style="font-family:${fonts.bubblegum};font-size:17px;color:#3A3C3E;margin-bottom:8px;">This super special certificate is awarded to</div>
              
              <div style="font-family:${fonts.fredokaOne};font-size:42px;color:#2563eb;text-shadow:2px 2px 0 #fbbf24;margin:8px 0;line-height:1;">${fullName}</div>
              
              <div style="font-family:${fonts.bubblegum};font-size:15px;color:#3A3C3E;margin:14px 0;">for being totally AMAZING and earning their</div>
              
              <div style="font-family:${fonts.fredokaOne};font-size:28px;color:#059669;text-shadow:2px 2px 0 #fbbf24;margin-bottom:14px;line-height:1;">${degree}</div>
              
              <div style="font-family:${fonts.bubblegum};font-size:14px;color:#4b5563;max-width:500px;line-height:1.5;margin-bottom:8px;">
                For showing incredible skills in ${achievement}!
              </div>
              
              <div style="font-family:${fonts.bubblegum};font-size:14px;color:#7c3aed;margin-top:14px;margin-bottom:20px;">Celebrated on ${awardDate} üéÇ</div>
              
              ${signaturesKids}
            </div>
          </div>`
      };

      container.innerHTML = templates[currentStyle];
    }

    document.querySelectorAll('input, select, textarea').forEach(el => {
      if (el.id !== 'achievementSelect' && el.id !== 'achievementCustom') {
        el.addEventListener('input', renderCertificate);
      }
    });

    document.querySelectorAll('.style-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.style-btn').forEach(b => {
          b.classList.remove('active');
          b.style.background = 'white';
          b.style.color = '#6b7280';
          b.style.borderColor = '#e5e7eb';
        });
        this.classList.add('active');
        currentStyle = this.dataset.style;
        renderCertificate();
      });
    });

    renderCertificate();

    // ============================================
    // MOCK STRIPE CHECKOUT
    // ============================================
    const checkoutBtn = document.getElementById('checkoutBtn');
    const tierInputs = document.querySelectorAll('input[name="priceTier"]');
    const stripeModal = document.getElementById('stripeModal');
    const checkoutFormState = document.getElementById('checkoutFormState');
    const successState = document.getElementById('successState');
    const mockCheckoutForm = document.getElementById('mockCheckoutForm');
    
    function updateButtonPrice() {
      const selected = document.querySelector('input[name="priceTier"]:checked');
      const price = selected.dataset.price;
      checkoutBtn.textContent = `Purchase for $${price}`;
    }

    tierInputs.forEach(input => {
      input.addEventListener('change', updateButtonPrice);
    });

    function openModal() {
      const selected = document.querySelector('input[name="priceTier"]:checked');
      const price = selected.dataset.price;
      const label = selected.dataset.label;
      
      // Update modal with current selection
      document.getElementById('modalProductName').textContent = label;
      document.getElementById('modalPrice').textContent = `$${price}`;
      document.getElementById('payBtnPrice').textContent = `$${price}`;
      
      // Pre-fill cardholder name from form
      const firstName = document.getElementById('firstName').value;
      const lastName = document.getElementById('lastName').value;
      document.getElementById('cardholderName').value = `${firstName} ${lastName}`;
      
      // Reset to checkout form state
      checkoutFormState.classList.remove('hidden');
      successState.classList.add('hidden');
      
      // Show modal
      stripeModal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      stripeModal.classList.remove('active');
      document.body.style.overflow = '';
    }

    function generateOrderNumber() {
      const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
      let result = 'PHU-2025-';
      for (let i = 0; i < 5; i++) {
        result += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      return result;
    }

    // Handle checkout button click
    checkoutBtn.addEventListener('click', openModal);

    // Handle mock form submission
    mockCheckoutForm.addEventListener('submit', function(e) {
      e.preventDefault();
      
      const payBtn = document.getElementById('payBtn');
      payBtn.disabled = true;
      payBtn.classList.add('processing');
      
      // Simulate processing delay
      setTimeout(() => {
        // Generate order number
        document.getElementById('orderNumber').textContent = generateOrderNumber();
        
        // Switch to success state
        checkoutFormState.classList.add('hidden');
        successState.classList.remove('hidden');
        
        payBtn.disabled = false;
        payBtn.classList.remove('processing');
      }, 2000);
    });

    // Close modal on overlay click
    stripeModal.addEventListener('click', function(e) {
      if (e.target === stripeModal) {
        closeModal();
      }
    });

    // Close modal on Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && stripeModal.classList.contains('active')) {
        closeModal();
      }
    });
  </script>
</body>
</html>
